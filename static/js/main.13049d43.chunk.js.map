{"version":3,"sources":["Casilla.js","VisorDeDatos.js","Tablero.js","App.js","index.js"],"names":["Casilla","props","bandera","$completado","state","visual","valor","puntos","resultado","setState","compruebaPerder","muestraPerder","i","arrayCasillas","length","o","muestraMina","final","mostrar","muestraGanar","addListaComprobados","compruebaGanar","casillas","y","x","this","onClick","onContextMenu","className","React","Component","VisorDeDatos","restaPuntos","aux","setInterval","resta","tiempoAux","tiempo","setSeconds","getSeconds","nuevoResultado","clearInterval","Date","push","getMinutes","Tablero","tablero","listaComprobados","perder","ganar","indexOf","tamanio","casillasSinMinas","minas","generaTablero","Array","rellenarTablero","vertical","Math","trunc","random","horizontal","rellenaPosicionMina","muestraTablero","tabla","key","bind","irNivelPersonalizado","event","preventDefault","window","location","search","target","value","modalCambiaEstado","muestraModal","nivelPersonalizado","Button","color","Modal","isOpen","toggle","ModalHeader","ModalBody","onSubmit","htmlFor","type","id","name","colSpan","selectorDeNiveles","arrayBotones","irNivel","arrayParametros","substring","split","Number","nivel","tamanioNivel","minasNivel","Navbar","App","oncontextmenu","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.13049d43.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass Casilla extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            valor: this.props.valor,\r\n            visual: \" \",\r\n        };\r\n    }\r\n\r\n\r\n    bandera = ($completado) => {\r\n        if (this.state.visual !== this.state.valor && this.props.puntos[0].state.resultado === \"Jugando\")\r\n            if (!$completado)\r\n                this.setState({ visual: \"üö©\" })\r\n            else\r\n                if (this.state.visual === \"üö©\")\r\n                    this.setState({ visual: \" \" })\r\n                else\r\n                    this.setState({ visual: \"üö©\" })\r\n\r\n    }\r\n\r\n    compruebaPerder = () => {\r\n        if (this.state.valor === \"üí£\") {\r\n            this.props.compruebaPerder()\r\n        }\r\n        if (this.props.muestraPerder()) {\r\n\r\n            for (let i = 0; i < this.props.arrayCasillas.length; i++) {\r\n                for (let o = 0; o < this.props.arrayCasillas[i].length; o++) {\r\n                    this.props.arrayCasillas[i][o].muestraMina()\r\n                }\r\n            }\r\n            this.props.puntos[0].final(\"Has perdido\")\r\n\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    muestraMina = () => {\r\n        if (this.state.valor === \"üí£\") {\r\n            this.setState({ visual: this.state.valor })\r\n        }\r\n    }\r\n\r\n    mostrar = () => {\r\n        if (!this.props.muestraGanar() && this.state.visual !== this.state.valor && !this.compruebaPerder()) {\r\n            this.setState({ visual: this.state.valor });\r\n            if (this.props.addListaComprobados() && !this.props.compruebaGanar()) {\r\n                this.props.puntos[1]()\r\n                if (this.state.valor === \"\" && this.state.visual !== \"\") {\r\n                    let casillas = this.props.arrayCasillas;\r\n                    let y = this.props.y\r\n                    let x = this.props.x\r\n\r\n                    if (typeof casillas[y][x - 1] != \"undefined\")\r\n                        casillas[y][x - 1].mostrar()\r\n\r\n                    if (typeof casillas[y][x + 1] != \"undefined\")\r\n                        casillas[y][x + 1].mostrar()\r\n\r\n                    if (y - 1 !== -1 && typeof casillas[y - 1][x] != \"undefined\")\r\n                        casillas[y - 1][x].mostrar()\r\n\r\n                    if (y - 1 !== -1 && typeof casillas[y - 1][x - 1] != \"undefined\")\r\n                        casillas[y - 1][x - 1].mostrar()\r\n\r\n                    if (y - 1 !== -1 && typeof casillas[y - 1][x + 1] != \"undefined\")\r\n                        casillas[y - 1][x + 1].mostrar()\r\n\r\n                    if (y + 1 !== casillas.length && typeof casillas[y + 1][x] != \"undefined\")\r\n                        casillas[y + 1][x].mostrar()\r\n\r\n                    if (y + 1 !== casillas.length && typeof casillas[y + 1][x - 1] != \"undefined\")\r\n                        casillas[y + 1][x - 1].mostrar()\r\n\r\n                    if (y + 1 !== casillas.length && typeof casillas[y + 1][x + 1] != \"undefined\")\r\n                        casillas[y + 1][x + 1].mostrar()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        this.props.arrayCasillas[this.props.y][this.props.x] = this\r\n        return (\r\n            <button onClick={this.mostrar} onContextMenu={this.bandera} className={this.state.visual === \" \" ? \"oscuro\" : \"\"}>{this.state.visual}</button>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Casilla","import React from 'react';\r\n\r\nclass VisorDeDatos extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            puntos: 0,\r\n            restaPuntos: this.restaPuntos(),\r\n            resultado: \"Esperando\",\r\n            tiempo: new Date(0, 0, 0)\r\n        }\r\n    }\r\n\r\n    restaPuntos = () => {\r\n        let aux = false\r\n        return setInterval(() => {\r\n            if (this.state.puntos !== 0) {\r\n                let resta = this.state.puntos - 1\r\n                this.setState({\r\n                    puntos: resta,\r\n                    resultado: \"Jugando\",\r\n                })\r\n                aux = true\r\n            }\r\n            if (aux) {\r\n                let tiempoAux = this.state.tiempo;\r\n                tiempoAux.setSeconds(tiempoAux.getSeconds() + 1)\r\n                this.setState({\r\n                    tiempo: tiempoAux\r\n                })\r\n            }\r\n        }, 1000)\r\n    }\r\n\r\n    final = (nuevoResultado) => {\r\n        clearInterval(this.state.restaPuntos)\r\n        this.setState({ resultado: nuevoResultado })\r\n    }\r\n\r\n    render() {\r\n        this.props.puntos[0] = this\r\n\r\n        this.props.puntos.push(() => {\r\n            this.props.puntos[2] += 10;\r\n            this.setState({ puntos: this.props.puntos[2] })\r\n        })\r\n\r\n        this.props.puntos.push(0)\r\n\r\n        return (\r\n            <>\r\n                <h1>Buscaminas</h1>\r\n                <div className=\"w-100 d-flex justify-content-around\">\r\n                    <p className=\"bg-primary text-white p-3 rounded-pill\">\r\n                        Tiempo: {(this.state.tiempo.getMinutes() < 10 ? '0' : '') + this.state.tiempo.getMinutes()}:\r\n                    {(this.state.tiempo.getSeconds() < 10 ? '0' : '') + this.state.tiempo.getSeconds()}\r\n                    </p>\r\n                    <p className=\"bg-primary text-white p-3 rounded-pill\">Puntos {this.state.puntos}</p>\r\n                    <p className=\"bg-primary text-white p-3 rounded-pill\">{this.state.resultado}</p>\r\n                </div>\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default VisorDeDatos","import React from 'react';\r\nimport Casilla from './Casilla.js'\r\nimport VisorDeDatos from './VisorDeDatos.js'\r\nimport { Navbar, Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nclass Tablero extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        if (window.location.search !== \"\") {\r\n            let parametros = window.location.search.substring(1)\r\n            let arrayParametros = parametros.split('&&')\r\n            for (let i = 0; i < arrayParametros.length; i++) {\r\n                let aux = arrayParametros[i].split(\"=\")\r\n                arrayParametros[aux[0]] = aux[1]\r\n            }\r\n\r\n            if (typeof arrayParametros[\"nivel\"] == \"undefined\") {\r\n                this.state = {\r\n                    tamanio: Number(arrayParametros[\"casillas\"]),\r\n                    nivel: 0,\r\n                    minas: Number(arrayParametros[\"minas\"]),\r\n                }\r\n            } else {\r\n                let tamanioNivel\r\n                let minasNivel\r\n\r\n                switch (Number(arrayParametros[\"nivel\"])) {\r\n                    case 0:\r\n                        tamanioNivel = 10\r\n                        minasNivel = 10\r\n                        break;\r\n\r\n                    case 1:\r\n                        tamanioNivel = 10\r\n                        minasNivel = 15\r\n                        break;\r\n\r\n                    case 2:\r\n                        tamanioNivel = 15\r\n                        minasNivel = 20\r\n                        break;\r\n\r\n                    case 3:\r\n                        tamanioNivel = 15\r\n                        minasNivel = 25\r\n                        break;\r\n\r\n                    default:\r\n                        tamanioNivel = 10\r\n                        minasNivel = 10\r\n                }\r\n\r\n                this.state = {\r\n                    tamanio: tamanioNivel,\r\n                    nivel: Number(arrayParametros[\"nivel\"]),\r\n                    minas: minasNivel,\r\n                    muestraModal: false\r\n                }\r\n\r\n            }\r\n\r\n        } else {\r\n            this.state = {\r\n                tamanio: 10,\r\n                nivel: 0,\r\n                minas: 10,\r\n                muestraModal: false\r\n            }\r\n        }\r\n    }\r\n\r\n    tablero = []\r\n    arrayCasillas = []\r\n    listaComprobados = []\r\n    perder = false\r\n    ganar = false\r\n    puntos = []\r\n\r\n    addListaComprobados = (y, x) => {\r\n        if (this.listaComprobados.indexOf(y + \" \" + x) === -1) {\r\n            this.listaComprobados.push(y + \" \" + x)\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    compruebaGanar = () => {\r\n        let tamanio = this.state.tamanio\r\n        let minas = this.state.minas\r\n        let casillas = tamanio * tamanio\r\n        let casillasSinMinas = casillas - minas\r\n\r\n        if (this.listaComprobados.length === casillasSinMinas) {\r\n            this.puntos[0].final(\"Has ganado\")\r\n            this.ganar = true\r\n            for (let i = 0; i < this.arrayCasillas.length; i++) {\r\n                for (let o = 0; o < this.arrayCasillas[i].length; o++) {\r\n                    if (this.arrayCasillas[i][o].props.valor === \"üí£\") {\r\n                        this.arrayCasillas[i][o].bandera(false)\r\n                    }\r\n                }\r\n            }\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    compruebaPerder = () => {\r\n        this.perder = true\r\n    }\r\n\r\n    muestraPerder = () => {\r\n        return this.perder\r\n    }\r\n\r\n    muestraGanar = () => {\r\n        return this.ganar\r\n    }\r\n\r\n    generaTablero = () => {\r\n        this.tablero = new Array(this.state.tamanio);\r\n        for (let i = 0; i < this.tablero.length; i++) {\r\n            this.tablero[i] = new Array(this.state.tamanio);\r\n        }\r\n\r\n        this.rellenarTablero()\r\n    }\r\n\r\n    rellenarTablero = () => {\r\n        let minas = this.state.minas\r\n        while (minas !== 0) {\r\n\r\n            let vertical = Math.trunc(Math.random() * this.state.tamanio)\r\n            let horizontal = Math.trunc(Math.random() * this.state.tamanio)\r\n\r\n            if (this.tablero[vertical][horizontal] !== \"üí£\") {\r\n                this.tablero[vertical][horizontal] = \"üí£\"\r\n                minas--\r\n            }\r\n        }\r\n        this.rellenaPosicionMina()\r\n    }\r\n\r\n    rellenaPosicionMina = () => {\r\n        for (let i = 0; i < this.tablero.length; i++) {\r\n            for (let o = 0; o < this.tablero[i].length; o++) {\r\n                if (this.tablero[i][o] !== \"üí£\") {\r\n                    let minas = 0\r\n\r\n                    if (this.tablero[i][o - 1] === \"üí£\")\r\n                        minas++\r\n\r\n                    if (this.tablero[i][o + 1] === \"üí£\")\r\n                        minas++\r\n\r\n                    if (typeof this.tablero[i - 1] != \"undefined\") {\r\n                        if (this.tablero[i - 1][o] === \"üí£\")\r\n                            minas++\r\n                        if (this.tablero[i - 1][o - 1] === \"üí£\")\r\n                            minas++\r\n                        if (this.tablero[i - 1][o + 1] === \"üí£\")\r\n                            minas++\r\n                    }\r\n\r\n                    if (typeof this.tablero[i + 1] != \"undefined\") {\r\n                        if (this.tablero[i + 1][o] === \"üí£\")\r\n                            minas++\r\n                        if (this.tablero[i + 1][o - 1] === \"üí£\")\r\n                            minas++\r\n                        if (this.tablero[i + 1][o + 1] === \"üí£\")\r\n                            minas++\r\n                    }\r\n\r\n                    if (minas !== 0)\r\n                        this.tablero[i][o] = minas\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    muestraTablero = () => {\r\n        let tabla = []\r\n        this.generaTablero()\r\n        for (let i = 0; i < this.tablero.length; i++) {\r\n            let casillas = []\r\n            this.arrayCasillas.push([])\r\n            for (let o = 0; o < this.tablero[i].length; o++) {\r\n                casillas.push(\r\n                    <td key={o}>\r\n                        <Casilla\r\n                            y={i}\r\n                            x={o}\r\n                            arrayCasillas={this.arrayCasillas}\r\n                            tablero={tabla}\r\n                            valor={typeof this.tablero[i][o] == \"undefined\" ? \"\" : this.tablero[i][o]}\r\n                            addListaComprobados={this.addListaComprobados.bind(this, i, o)}\r\n                            compruebaGanar={this.compruebaGanar}\r\n                            muestraPerder={this.muestraPerder}\r\n                            compruebaPerder={this.compruebaPerder}\r\n                            muestraGanar={this.muestraGanar}\r\n                            puntos={this.puntos}\r\n                        />\r\n                    </td>\r\n                )\r\n            }\r\n            tabla.push(<tr key={i}>{casillas}</tr>)\r\n        }\r\n        return tabla\r\n    }\r\n\r\n    irNivelPersonalizado = (event) => {\r\n        event.preventDefault()\r\n\r\n        window.location.search = \"casillas=\" + event.target.casillas.value +\r\n            \"&&minas=\" + event.target.minas.value\r\n    }\r\n\r\n    modalCambiaEstado = () => {\r\n        this.setState({\r\n            muestraModal: !this.state.muestraModal\r\n        })\r\n    }\r\n\r\n    nivelPersonalizado = () => {\r\n        return (\r\n            <>\r\n                <Button color=\"warning\" className=\"col-12\" onClick={this.modalCambiaEstado}>Crear uno personalizado</Button>\r\n\r\n                <Modal isOpen={this.state.muestraModal} toggle={this.modalCambiaEstado}>\r\n                    <ModalHeader toggle={this.modalCambiaEstado}>Creaci√≥n de un mapa personalizado</ModalHeader>\r\n                    <ModalBody>\r\n                        <form onSubmit={this.irNivelPersonalizado}>\r\n                            <table className=\"w-100\">\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td><label htmlFor=\"casillas\" className=\"form-check-label\">Casillas:</label></td>\r\n                                        <td><input type=\"text\" id=\"casillas\" name=\"casillas\" className=\"form-control\" /></td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td><label htmlFor=\"minas\" className=\"form-check-label mt-3\">Minas:</label></td>\r\n                                        <td><input type=\"text\" id=\"minas\" name=\"minas\" className=\"form-control mt-3\" /></td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colSpan=\"2\"><input type=\"submit\" value=\"Crear\" className=\"btn btn-primary w-100 mt-3\" /></td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </form>\r\n                    </ModalBody>\r\n                </Modal>\r\n            </>\r\n        )\r\n    }\r\n\r\n    selectorDeNiveles = () => {\r\n\r\n        let NivelesDisponibles = 4\r\n        let arrayBotones = [];\r\n        for (let i = 0; i < NivelesDisponibles; i++) {\r\n            arrayBotones.push(<Button color=\"danger\" className=\"botonNivel m-1\" key={i} value={i} onClick={this.irNivel}>Nivel {i}</Button>)\r\n        }\r\n\r\n        return (arrayBotones)\r\n    }\r\n\r\n    irNivel = (event) => {\r\n        window.location.search = \"nivel=\" + event.target.value\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar color=\"warning\">\r\n                    <VisorDeDatos puntos={this.puntos} />\r\n                </Navbar>\r\n\r\n                <table id=\"tablero\">\r\n                    <tbody>\r\n                        {this.muestraTablero()}\r\n                    </tbody>\r\n                </table>\r\n\r\n                <footer className=\"bg-primary p-2 d-flex justify-content-between flex-wrap\">\r\n                    {this.selectorDeNiveles()}\r\n                    {this.nivelPersonalizado()}\r\n                </footer>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Tablero","import React from 'react';\r\nimport './App.css';\r\nimport Tablero from './Tablero.js'\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <Tablero />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nwindow.oncontextmenu = function () {\r\n    // Deshabilita el men√∫ contextual al pulsar bot√≥n derecho\r\n    return false;\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}