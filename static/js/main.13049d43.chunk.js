(this.webpackJsonpbuscaminas=this.webpackJsonpbuscaminas||[]).push([[0],{21:function(e,a,t){e.exports=t(37)},26:function(e,a,t){},37:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t.n(r),s=t(7),o=t.n(s),l=(t(26),t(8)),i=t(9),u=t(11),c=t(10),m=t(14),p=t(12),d=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(c.a)(a).call(this,e))).bandera=function(e){t.state.visual!==t.state.valor&&"Jugando"===t.props.puntos[0].state.resultado&&(e&&"\ud83d\udea9"===t.state.visual?t.setState({visual:" "}):t.setState({visual:"\ud83d\udea9"}))},t.compruebaPerder=function(){if("\ud83d\udca3"===t.state.valor&&t.props.compruebaPerder(),t.props.muestraPerder()){for(var e=0;e<t.props.arrayCasillas.length;e++)for(var a=0;a<t.props.arrayCasillas[e].length;a++)t.props.arrayCasillas[e][a].muestraMina();return t.props.puntos[0].final("Has perdido"),!0}return!1},t.muestraMina=function(){"\ud83d\udca3"===t.state.valor&&t.setState({visual:t.state.valor})},t.mostrar=function(){if(!t.props.muestraGanar()&&t.state.visual!==t.state.valor&&!t.compruebaPerder()&&(t.setState({visual:t.state.valor}),t.props.addListaComprobados()&&!t.props.compruebaGanar()&&(t.props.puntos[1](),""===t.state.valor&&""!==t.state.visual))){var e=t.props.arrayCasillas,a=t.props.y,r=t.props.x;"undefined"!=typeof e[a][r-1]&&e[a][r-1].mostrar(),"undefined"!=typeof e[a][r+1]&&e[a][r+1].mostrar(),a-1!==-1&&"undefined"!=typeof e[a-1][r]&&e[a-1][r].mostrar(),a-1!==-1&&"undefined"!=typeof e[a-1][r-1]&&e[a-1][r-1].mostrar(),a-1!==-1&&"undefined"!=typeof e[a-1][r+1]&&e[a-1][r+1].mostrar(),a+1!==e.length&&"undefined"!=typeof e[a+1][r]&&e[a+1][r].mostrar(),a+1!==e.length&&"undefined"!=typeof e[a+1][r-1]&&e[a+1][r-1].mostrar(),a+1!==e.length&&"undefined"!=typeof e[a+1][r+1]&&e[a+1][r+1].mostrar()}},t.state={valor:t.props.valor,visual:" "},t}return Object(p.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return this.props.arrayCasillas[this.props.y][this.props.x]=this,n.a.createElement("button",{onClick:this.mostrar,onContextMenu:this.bandera,className:" "===this.state.visual?"oscuro":""},this.state.visual)}}]),a}(n.a.Component),b=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(c.a)(a).call(this,e))).restaPuntos=function(){var e=!1;return setInterval((function(){if(0!==t.state.puntos){var a=t.state.puntos-1;t.setState({puntos:a,resultado:"Jugando"}),e=!0}if(e){var r=t.state.tiempo;r.setSeconds(r.getSeconds()+1),t.setState({tiempo:r})}}),1e3)},t.final=function(e){clearInterval(t.state.restaPuntos),t.setState({resultado:e})},t.state={puntos:0,restaPuntos:t.restaPuntos(),resultado:"Esperando",tiempo:new Date(0,0,0)},t}return Object(p.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return this.props.puntos[0]=this,this.props.puntos.push((function(){e.props.puntos[2]+=10,e.setState({puntos:e.props.puntos[2]})})),this.props.puntos.push(0),n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Buscaminas"),n.a.createElement("div",{className:"w-100 d-flex justify-content-around"},n.a.createElement("p",{className:"bg-primary text-white p-3 rounded-pill"},"Tiempo: ",(this.state.tiempo.getMinutes()<10?"0":"")+this.state.tiempo.getMinutes(),":",(this.state.tiempo.getSeconds()<10?"0":"")+this.state.tiempo.getSeconds()),n.a.createElement("p",{className:"bg-primary text-white p-3 rounded-pill"},"Puntos ",this.state.puntos),n.a.createElement("p",{className:"bg-primary text-white p-3 rounded-pill"},this.state.resultado)))}}]),a}(n.a.Component),f=t(39),v=t(43),h=t(40),y=t(41),g=t(42),E=(t(27),function(e){function a(e){var t;if(Object(l.a)(this,a),(t=Object(u.a)(this,Object(c.a)(a).call(this,e))).tablero=[],t.arrayCasillas=[],t.listaComprobados=[],t.perder=!1,t.ganar=!1,t.puntos=[],t.addListaComprobados=function(e,a){return-1===t.listaComprobados.indexOf(e+" "+a)&&(t.listaComprobados.push(e+" "+a),!0)},t.compruebaGanar=function(){var e=t.state.tamanio,a=e*e-t.state.minas;if(t.listaComprobados.length===a){t.puntos[0].final("Has ganado"),t.ganar=!0;for(var r=0;r<t.arrayCasillas.length;r++)for(var n=0;n<t.arrayCasillas[r].length;n++)"\ud83d\udca3"===t.arrayCasillas[r][n].props.valor&&t.arrayCasillas[r][n].bandera(!1);return!0}return!1},t.compruebaPerder=function(){t.perder=!0},t.muestraPerder=function(){return t.perder},t.muestraGanar=function(){return t.ganar},t.generaTablero=function(){t.tablero=new Array(t.state.tamanio);for(var e=0;e<t.tablero.length;e++)t.tablero[e]=new Array(t.state.tamanio);t.rellenarTablero()},t.rellenarTablero=function(){for(var e=t.state.minas;0!==e;){var a=Math.trunc(Math.random()*t.state.tamanio),r=Math.trunc(Math.random()*t.state.tamanio);"\ud83d\udca3"!==t.tablero[a][r]&&(t.tablero[a][r]="\ud83d\udca3",e--)}t.rellenaPosicionMina()},t.rellenaPosicionMina=function(){for(var e=0;e<t.tablero.length;e++)for(var a=0;a<t.tablero[e].length;a++)if("\ud83d\udca3"!==t.tablero[e][a]){var r=0;"\ud83d\udca3"===t.tablero[e][a-1]&&r++,"\ud83d\udca3"===t.tablero[e][a+1]&&r++,"undefined"!=typeof t.tablero[e-1]&&("\ud83d\udca3"===t.tablero[e-1][a]&&r++,"\ud83d\udca3"===t.tablero[e-1][a-1]&&r++,"\ud83d\udca3"===t.tablero[e-1][a+1]&&r++),"undefined"!=typeof t.tablero[e+1]&&("\ud83d\udca3"===t.tablero[e+1][a]&&r++,"\ud83d\udca3"===t.tablero[e+1][a-1]&&r++,"\ud83d\udca3"===t.tablero[e+1][a+1]&&r++),0!==r&&(t.tablero[e][a]=r)}},t.muestraTablero=function(){var e=[];t.generaTablero();for(var a=0;a<t.tablero.length;a++){var r=[];t.arrayCasillas.push([]);for(var s=0;s<t.tablero[a].length;s++)r.push(n.a.createElement("td",{key:s},n.a.createElement(d,{y:a,x:s,arrayCasillas:t.arrayCasillas,tablero:e,valor:"undefined"==typeof t.tablero[a][s]?"":t.tablero[a][s],addListaComprobados:t.addListaComprobados.bind(Object(m.a)(t),a,s),compruebaGanar:t.compruebaGanar,muestraPerder:t.muestraPerder,compruebaPerder:t.compruebaPerder,muestraGanar:t.muestraGanar,puntos:t.puntos})));e.push(n.a.createElement("tr",{key:a},r))}return e},t.irNivelPersonalizado=function(e){e.preventDefault(),window.location.search="casillas="+e.target.casillas.value+"&&minas="+e.target.minas.value},t.modalCambiaEstado=function(){t.setState({muestraModal:!t.state.muestraModal})},t.nivelPersonalizado=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(f.a,{color:"warning",className:"col-12",onClick:t.modalCambiaEstado},"Crear uno personalizado"),n.a.createElement(v.a,{isOpen:t.state.muestraModal,toggle:t.modalCambiaEstado},n.a.createElement(h.a,{toggle:t.modalCambiaEstado},"Creaci\xf3n de un mapa personalizado"),n.a.createElement(y.a,null,n.a.createElement("form",{onSubmit:t.irNivelPersonalizado},n.a.createElement("table",{className:"w-100"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("label",{htmlFor:"casillas",className:"form-check-label"},"Casillas:")),n.a.createElement("td",null,n.a.createElement("input",{type:"text",id:"casillas",name:"casillas",className:"form-control"}))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("label",{htmlFor:"minas",className:"form-check-label mt-3"},"Minas:")),n.a.createElement("td",null,n.a.createElement("input",{type:"text",id:"minas",name:"minas",className:"form-control mt-3"}))),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"2"},n.a.createElement("input",{type:"submit",value:"Crear",className:"btn btn-primary w-100 mt-3"})))))))))},t.selectorDeNiveles=function(){for(var e=[],a=0;a<4;a++)e.push(n.a.createElement(f.a,{color:"danger",className:"botonNivel m-1",key:a,value:a,onClick:t.irNivel},"Nivel ",a));return e},t.irNivel=function(e){window.location.search="nivel="+e.target.value},""!==window.location.search){for(var r=window.location.search.substring(1).split("&&"),s=0;s<r.length;s++){var o=r[s].split("=");r[o[0]]=o[1]}if("undefined"==typeof r.nivel)t.state={tamanio:Number(r.casillas),nivel:0,minas:Number(r.minas)};else{var i,p;switch(Number(r.nivel)){case 0:i=10,p=10;break;case 1:i=10,p=15;break;case 2:i=15,p=20;break;case 3:i=15,p=25;break;default:i=10,p=10}t.state={tamanio:i,nivel:Number(r.nivel),minas:p,muestraModal:!1}}}else t.state={tamanio:10,nivel:0,minas:10,muestraModal:!1};return t}return Object(p.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(g.a,{color:"warning"},n.a.createElement(b,{puntos:this.puntos})),n.a.createElement("table",{id:"tablero"},n.a.createElement("tbody",null,this.muestraTablero())),n.a.createElement("footer",{className:"bg-primary p-2 d-flex justify-content-between flex-wrap"},this.selectorDeNiveles(),this.nivelPersonalizado()))}}]),a}(n.a.Component));var C=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(E,null))};window.oncontextmenu=function(){return!1},o.a.render(n.a.createElement(C,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.13049d43.chunk.js.map